<layout-page>
    <!-- Title of the page -->
    <layout-page-title>
        My songbook

        <!-- New element -->
        <small data-ng-if="songFormCtrl.isNew()">New</small>

        <!-- Edit element -->
        <small data-ng-if="!songFormCtrl.isNew()">Edit</small>
    </layout-page-title>

    <!-- Header buttons -->
    <layout-page-buttons>
        <!-- Delete button while editing -->
        <layout-page-button data-ng-if="!songFormCtrl.isNew()" class="nav-link-danger">
            <a href="">
                <span class="fa fa-fw fa-trash-o"></span>
                Delete
            </a>
        </layout-page-button>

        <!-- Validate form -->
        <layout-page-button class="nav-link-default">
            <a href="" data-ng-click="songFormCtrl.validate()">
                <span class="fa fa-fw fa-check"></span>
                <span data-ng-if="songFormCtrl.isNew()">Create</span>
                <span data-ng-if="!songFormCtrl.isNew()">Edit</span>
            </a>
        </layout-page-button>

        <!-- Cancel -->
        <layout-page-button class="nav-link-default">
            <a href="#/songs">
                <span class="fa fa-fw fa-times"></span>
                Cancel
            </a>
        </layout-page-button>
    </layout-page-buttons>

    <!-- Form -->
    <form-component data-form-def="songFormCtrl.form">
        <div class="col-md-3">
            <!-- Cover -->
            <fieldset data-ngf-drop="" data-ng-model="songFormCtrl.entity.cover.file" class="file-upload-dropbox" accept="image/*" data-ngf-max-size="2MB" style="margin-bottom: 30px;">
                <legend>Cover</legend>
                <div class="dropbox-info" data-ng-hide="songFormCtrl.entity.cover.file">
                    <!--<span class="dropbox-info-name">Cover of the album</span>-->

                    <img class="img-responsive img-shadow" data-ng-src="{{ 'uploads/no-cover.png'|resource_path }}" />

                    <a href="" role="button" class="btn btn-block btn-default" data-ngf-select="" data-ng-model="songFormCtrl.entity.cover.file">
                        <span class="fa fa-upload"></span>
                        Choose a file
                    </a>
                </div>

                <div class="dropbox-thumb">
                    <img class="img-responsive img-shadow" data-ngf-thumbnail="songFormCtrl.entity.cover.file" data-ng-show="songFormCtrl.entity.cover.file" />

                    <a href="" role="button" class="btn btn-danger" data-ng-click="songFormCtrl.entity.cover.file = null" data-ng-show="songFormCtrl.entity.cover.file">
                        <span class="fa fa-trash-o"></span>
                        <span class="sr-only">Remove uploaded file</span>
                    </a>
                </div>
            </fieldset>

            <!--Rating-->
            <fieldset class="text-center" style="margin-bottom: 30px;">
                <legend>Rating</legend>
                <score-field data-model="songFormCtrl.entity.rating" data-icon="fa fa-star"></score-field>
            </fieldset>

            <!--Mastery-->
            <fieldset class="text-center" style="margin-bottom: 30px;">
                <legend>Mastery</legend>
                <score-field data-model="songFormCtrl.entity.mastery" data-icon="music-icon music-icon-note"></score-field>
            </fieldset>
        </div>

        <div class="col-md-9">
            <fieldset>
                <legend>Information</legend>

                <div class="panel panel-default panel-last">
                    <div class="panel-body">
                        <div class="form-group">
                            <label for="song_title" class="control-label">Title</label>
                            <input type="text" class="form-control" name="song_title" id="song_title" data-ng-model="songFormCtrl.entity.title" />
                        </div>

                        <div class="form-group">
                            <label for="song_artist" class="control-label">Artist</label>
                            <input type="text" class="form-control" name="song_artist" id="song_artist" data-ng-model="songFormCtrl.entity.artist" />
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </form-component>
</layout-page>