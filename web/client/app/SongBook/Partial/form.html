<layout-page>
    <!-- Title of the page -->
    <layout-page-title>
        My songbook

        <!-- New element -->
        <small data-ng-if="songFormCtrl.isNew()">New</small>

        <!-- Edit element -->
        <small data-ng-if="!songFormCtrl.isNew()">Edit</small>
    </layout-page-title>

    <!-- Header buttons -->
    <ui-header-buttons>
        <!-- Delete button while editing -->
        <ui-header-button data-ng-if="!songFormCtrl.isNew()" class="nav-link-danger">
            <a href="">
                <span class="fa fa-fw fa-trash-o"></span>
                Delete
            </a>
        </ui-header-button>

        <li class="divider" data-ng-if="!songFormCtrl.isNew()"></li>

        <!-- Cancel -->
        <ui-header-button class="nav-link-default">
            <a href="#/songs">
                <span class="fa fa-fw fa-times"></span>
                Cancel
            </a>
        </ui-header-button>

        <!-- Validate form -->
        <ui-header-button class="nav-link-default">
            <a href="" data-ng-click="songFormCtrl.submit()">
                <span class="fa fa-fw fa-check"></span>
                <span data-ng-if="songFormCtrl.isNew()">Create</span>
                <span data-ng-if="!songFormCtrl.isNew()">Edit</span>
            </a>
        </ui-header-button>
    </ui-header-buttons>

    <!-- Form -->
    <form class="song-form row">
        <div class="col-md-3">
            <!-- Cover -->
            <fieldset
                class="file-upload-dropbox" style="margin-bottom: 30px;"
                data-ngf-drop="songFormCtrl.selectCover($file)"
                data-ngf-accept="'image/*'"
                data-ngf-max-size="2MB"
            >
                <legend>Cover</legend>

                <div class="dropbox-thumb">
                    <!-- File preview -->
                    <img class="img-responsive img-shadow" data-ngf-src="songFormCtrl.data.cover.file || '{{ (songFormCtrl.data.cover.path|resource_path) || ('images/no-cover.png'|asset_path) }}'" />

                    <!-- Choose a file to Upload -->
                    <a href="" role="button" class="dropbox-select btn btn-block btn-default" data-ngf-select="songFormCtrl.selectCover($file)">
                        <span class="fa fa-upload"></span>
                        Choose a file
                    </a>

                    <!-- Remove uploaded file -->
                    <a href="" role="button" class="dropbox-remove btn btn-danger" data-ng-click="songFormCtrl.removeCover()" data-ng-show="songFormCtrl.data.cover.file || songFormCtrl.data.cover.path">
                        <span class="fa fa-trash-o"></span>
                        <span class="sr-only">Remove uploaded file</span>
                    </a>
                </div>
            </fieldset>

            <!--Rating-->
            <fieldset class="text-center" style="margin-bottom: 30px;">
                <legend>Rating</legend>
                <score-field data-model="songFormCtrl.data.rating" data-icon="fa fa-star"></score-field>
            </fieldset>

            <!--Mastery-->
            <fieldset class="text-center" style="margin-bottom: 30px;">
                <legend>Mastery</legend>
                <score-field data-model="songFormCtrl.data.mastery" data-icon="music-icon music-icon-note"></score-field>
            </fieldset>
        </div>

        <div class="col-md-9">
            <div class="panel panel-default panel-last">
                <div class="panel-body">
                    <div class="form-group">
                        <label for="song_title" class="control-label">Title</label>
                        <input type="text" class="form-control" name="song_title" id="song_title" data-ng-model="songFormCtrl.data.title" />
                    </div>

                    <div class="form-group">
                        <label for="song_artist" class="control-label">Artist</label>
                        <input type="text" class="form-control" name="song_artist" id="song_artist" data-ng-model="songFormCtrl.data.artist" />
                    </div>
                </div>
            </div>
        </div>
    </form>
</layout-page>